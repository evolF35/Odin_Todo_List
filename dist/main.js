(()=>{"use strict";let e=[];var t=new Date;let n=document.getElementById("addTaskButton");n.style.display="none";let l=document.querySelector(".taskBoard"),r=document.querySelector(".taskBoardTitle"),i=!1,d=0,a=r.innerText,c=!1;function o(t){let r=document.createElement("div");r.setAttribute("class","task");let i=document.createElement("p");i.setAttribute("class","taskTitleDOM"),i.innerText=t.title;let d=document.createElement("p");d.setAttribute("class","taskDueDateDOM"),d.innerText=t.date;let a=document.createElement("p");a.setAttribute("class","desCriptionDOM"),a.innerText=t.description;let c=document.createElement("div");c.setAttribute("id",`${t.number}_task`),c.classList.add("taskButtons");let o=document.createElement("button");o.innerText="Delete",o.addEventListener("click",(()=>{let n=document.getElementById(`${t.number}_task`).parentElement,l=n.lastChild.id.replace("_task,");n.remove(),e.splice(l,1)}));let u=document.createElement("button");return u.innerHTML="Edit",u.addEventListener("click",(()=>{let r=document.getElementById(`${t.number}_task`).parentElement,i=r.getElementsByTagName("p");l.insertBefore(s(i[0].innerText,i[1].innerText,i[2].innerText),n),n.innerText="Edit Task";let d=r.lastChild.id.replace("_task,");e.splice(d,1),r.remove()})),c.appendChild(o),c.appendChild(u),r.appendChild(i),r.appendChild(d),r.appendChild(a),r.appendChild(c),r}function s(e,t,n){let l=document.createElement("div");l.setAttribute("id","inputs");let r=document.createElement("input");r.setAttribute("id","title"),r.value=e;let d=document.createElement("input");d.setAttribute("id","dueDate"),d.setAttribute("type","date"),d.value=t;let a=document.createElement("input");return a.setAttribute("id","descriptionBar"),a.value=n,l.appendChild(r),l.appendChild(d),l.appendChild(a),i=!0,c=!0,l}n.addEventListener("click",(()=>{if(1==i){d++;let s=(t=document.getElementById("title").value,r=document.getElementById("dueDate").value,c=document.getElementById("descriptionBar").value,function(t,n,l,r,i){let d=((e,t,n,l,r)=>({title:e,date:t,description:n,number:l,project:r}))(t,n,l,r,i);return console.log(d),e.push(d),d}(t,r,c,d,a));console.log(e),document.getElementById("inputs").remove(),l.insertBefore(o(s),n),i=!1,n.innerText="Create Task"}else{let e=document.createElement("div");e.setAttribute("id","inputs");let t=document.createElement("input");t.setAttribute("id","title"),t.placeholder="Name";let r=document.createElement("input");r.setAttribute("id","dueDate"),r.setAttribute("type","date");let d=document.createElement("input");d.setAttribute("id","descriptionBar"),d.placeholder="Description",e.appendChild(t),e.appendChild(r),e.appendChild(d),l.insertBefore(e,n),i=!0,n.innerText="Add Task"}var t,r,c}));let u=document.getElementById("addProjectButton"),m=document.querySelector(".listProjects");function p(e){document.querySelectorAll(".task").forEach((e=>e.remove())),e.forEach((e=>l.insertBefore(o(e),n)))}document.querySelectorAll(".task"),u.addEventListener("click",(()=>{r.innerText="",document.querySelectorAll(".task").forEach((e=>e.remove()));let t=document.createElement("input");t.placeholder="Project_Name",r.appendChild(t);let l=document.createElement("button");l.innerText="Add Project",r.appendChild(l),n.style.display="none",l.addEventListener("click",(()=>{if(""!=t.value){r.innerText=t.value;let l=document.createElement("p");l.innerText=r.innerText,a=l.innerText;let i=document.createElement("p");i.innerText="delete",i.addEventListener("click",(()=>{e=e.filter((e=>e.project!=l.innerText)),l.innerText==r.innerText&&(r.innerText="Switch to another project or create a new one",n.style.display="none",document.querySelectorAll(".task").forEach((e=>e.remove()))),l.remove(),i.remove(),console.log(e)})),l.addEventListener("click",(()=>{var t;r.innerText=l.innerText,a=l.innerText,p((t=a,e.filter((e=>e.project==t)))),n.style.display=""})),m.appendChild(l),m.appendChild(i),n.style.display=""}}))})),document.querySelector(".all").addEventListener("click",(()=>{r.innerText="All Tasks",p(e),n.style.display="none"})),document.querySelector(".today").addEventListener("click",(()=>{r.innerText="Tasks Due Today";let l=new Date;l=l.setDate(t.getDate());let i=JSON.parse(JSON.stringify(e));i=i.filter((e=>e.date=new Date(`${e.date}`)));let d=i.filter((e=>(e.date-l)/864e5<=1&&(e.date-l)/864e5>=-1));d=d.filter((e=>e.date=e.date.toLocaleDateString())),p(d),n.style.display="none"})),document.querySelector(".days7").addEventListener("click",(()=>{r.innerText="Tasks Due Within 7 days";let l=new Date;l=l.setDate(t.getDate());let i=JSON.parse(JSON.stringify(e));i=i.filter((e=>e.date=new Date(`${e.date}`)));let d=i.filter((e=>(e.date-l)/864e5<=8&&(e.date-l)/864e5>=-1));d=d.filter((e=>e.date=e.date.toLocaleDateString())),p(d),n.style.display="none"})),document.querySelector(".longterm").addEventListener("click",(()=>{r.innerText="Tasks not due in 7 days";let l=new Date;l=l.setDate(t.getDate());let i=JSON.parse(JSON.stringify(e));i=i.filter((e=>e.date=new Date(`${e.date}`)));let d=i.filter((e=>(e.date-l)/864e5>=8));d=d.filter((e=>e.date=e.date.toLocaleDateString())),p(d),n.style.display="none"}))})();